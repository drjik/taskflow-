# taskflow

## ‚öôÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- Java 17
- Spring Boot 3
- Spring Kafka
- Apache Kafka
- PostgreSQL
- Maven (multi-module)
- Docker / Docker Compose

---

## üì¶ –ú–æ–¥—É–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞

### 1Ô∏è‚É£ common-libs

–°–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ DTO –∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç —Å–æ–±—ã—Ç–∏–π.

```java
@Data
@AllArgsConstructor
@NoArgsConstructor
public class TaskEvent {
    private String eventType;
    private Long taskId;
    private Long userId;
    private String status;
    private LocalDateTime timestamp;
}
```

–í –º–æ–¥—É–ª–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç:
- –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- Spring –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- Kafka –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–≠—Ç–æ —á–∏—Å—Ç—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏.

---

### 2Ô∏è‚É£ task-service

- REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏
- –†–∞–±–æ—Ç–∞ —Å PostgreSQL
- –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–±—ã—Ç–∏–π –≤ Kafka (`task-events`)

–†–æ–ª—å –≤ —Å–∏—Å—Ç–µ–º–µ:  
**–ò—Å—Ç–æ—á–Ω–∏–∫ —Å–æ–±—ã—Ç–∏–π (Producer)**

---

### 3Ô∏è‚É£ notification-service

- –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ Kafka topic `task-events`
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ / —ç–º—É–ª—è—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

–†–æ–ª—å –≤ —Å–∏—Å—Ç–µ–º–µ:  
**–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å —Å–æ–±—ã—Ç–∏–π (Consumer)**

---

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### 1Ô∏è‚É£ –ó–∞–ø—É—Å–∫ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

```bash
docker compose up -d
```

–ü–æ–¥–Ω–∏–º–∞—é—Ç—Å—è:
- PostgreSQL
- Kafka

---

### 2Ô∏è‚É£ –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ò–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞:

```bash
mvn clean install
```

---

### 3Ô∏è‚É£ –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
mvn spring-boot:run -pl task-service
mvn spring-boot:run -pl notification-service
```

–ò–ª–∏ –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ IDE.

---

## üîå Kafka

- Bootstrap server: `localhost:9092`
- Topic: `task-events`
- –§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏–π: JSON
- Consumer group: `notification-group`

---

## üß† –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### –ü–æ—á–µ–º—É –≤—ã–¥–µ–ª–µ–Ω common-libs?

- –ï–¥–∏–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç —Å–æ–±—ã—Ç–∏–π
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è DTO
- –¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –£–ø—Ä–æ—â–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏

### –ü–æ—á–µ–º—É Kafka?

- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ
- –°–ª–∞–±–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–æ–≤
- –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- Event-driven –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ü–æ—á–µ–º—É Maven multi-module?

- –ß—ë—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
- –£–¥–æ–±–Ω–∞—è —Å–±–æ—Ä–∫–∞
- –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é –ø—Ä–æ–µ–∫—Ç–∞

---

## üéØ –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞

- –ü—Ä–∞–∫—Ç–∏–∫–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è event-driven –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
- –†–∞–±–æ—Ç–∞ —Å Kafka –≤ KRaft —Ä–µ–∂–∏–º–µ
- –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –º–Ω–æ–≥–æ–º–æ–¥—É–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã Maven
